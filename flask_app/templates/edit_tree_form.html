<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Online Arboretum</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <!-- Nav-esque header START -->
    <div class="d-flex justify-content-between p-3">
      <div>
        <h1>Arbortrary</h1>
        <p>A site to track randomly planted trees</p>
      </div>
      <div>
        <div class="d-flex justify-content-around align-items-start gap-3 mb-3">
          <!-- My Trees link here -->
          <a href="/user/my-trees/view" class="fs-4">My Trees</a>
          <h2>Welcome, {{current_user.first_name}}!</h2>
        </div>
        <div class="d-flex justify-content-end gap-3">
          <!-- Dashboard link here -->
          <a class="btn btn-primary" href="/home" role="button">Dashboard</a>
          <!-- Log out link here -->
          <form action="/logout" method="POST">
            <button type="submit" class="btn btn-danger">Log out</button>
          </form>
        </div>
      </div>
    </div>
    <!-- Nav-esque header END -->

    <div class="container p-2">
      <!-- Edit tree form START -->
      <h1 class="mb-4">Re-plant Your Tree</h1>
      <!-- Form ACTION here -->
      <!-- "/trees/tree.id/edit/submit" -->
      <form action="/trees/{{current_tree.id}}/edit/submit" method="POST">
        <div class="d-flex justify-content-between align-items-start">
          <div class="col-lg-6">
            <!-- Species name start -->
            <div class="mb-3">
              <label for="species" class="form-label">Species: *</label>
              <input
                type="text"
                name="species"
                id="species"
                value="{{current_tree.species}}"
                class="form-control"
              />
              {% for message in get_flashed_messages( category_filter =
              ['error_species']): %}
              <div class="alert alert-danger">{{message}}</div>
              {% endfor %}
            </div>
            <!-- Location start -->
            <div class="mb-3">
              <label for="location" class="form-label">Location: *</label>
              <input
                type="text"
                name="location"
                id="location"
                value="{{current_tree.location}}"
                class="form-control"
              />
              {% for message in get_flashed_messages( category_filter =
              ['error_location']): %}
              <div class="alert alert-danger">{{message}}</div>
              {% endfor %}
            </div>
            <!-- Reason start -->
            <div class="mb-3">
              <label for="reason" class="form-label"
                >Reason for planting: *</label
              >
              <input
                type="text"
                name="reason"
                id="reason"
                value="{{current_tree.reason}}"
                class="form-control"
              />
              {% for message in get_flashed_messages( category_filter =
              ['error_reason']): %}
              <div class="alert alert-danger">{{message}}</div>
              {% endfor %}
            </div>
            <!-- Date planted start -->
            <div class="mb-3">
              <label for="planted_at" class="form-label">Date Planted: *</label>
              <input
                type="date"
                name="planted_at"
                id="planted_at"
                value="{{current_tree.planted_at}}"
                class="form-control"
              />
              {% for message in get_flashed_messages( category_filter =
              ['error_date']): %}
              <div class="alert alert-danger">{{message}}</div>
              {% endfor %}
            </div>
            <!-- Submit and Cancel buttons here -->
            <div class="d-flex justify-content-end text-secondary">
              <p>* Denotes required field</p>
            </div>
            <div class="d-flex justify-content-end gap-3">
              <button type="submit" class="btn btn-success">Re-plant</button>
              <a href="/home" class="btn btn-danger">Cancel</a>
            </div>
          </div>
        </div>
      </form>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
